tmp = tempfile.NamedTemporaryFile(delete=False, suffix=".png")
    tmp.close()
    plt.savefig(tmp.name)
    plt.close()

    try:
        # –ü–æ–ø—Ä–æ–±—É–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞–∫ FSInputFile (–∏–∑ –ø—É—Ç–∏) ‚Äî —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
        from aiogram.types import FSInputFile
        await message.answer_photo(
            photo=FSInputFile(tmp.name),
            caption="üìà –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –≥—Ä–∞—Ñ–∏–∫"
        )
    except Exception:
        # fallback: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫–∞–∫ —Å—Ç—Ä–æ–∫—É (aiogram —Ç–æ–∂–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç str)
        try:
            await message.answer_photo(photo=tmp.name, caption="üìà –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –≥—Ä–∞—Ñ–∏–∫")
        except Exception as e:
            # –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è, —É–≤–µ–¥–æ–º–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            await message.answer(f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞: {e}")

    # –ù–µ —É–¥–∞–ª—è–µ–º —Ñ–∞–π–ª –º–≥–Ω–æ–≤–µ–Ω–Ω–æ ‚Äî –¥–∞—ë–º aiogram –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –Ω–∞ Windows.
    import asyncio
    async def _del_later(path):
        await asyncio.sleep(2)
        try:
            os.unlink(path)
        except Exception:
            pass
    try:
        asyncio.create_task(_del_later(tmp.name))
    except Exception:
        # –µ—Å–ª–∏ asyncio.create_task –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –ø–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å —Å—Ä–∞–∑—É (–ø–ª–æ—Ö–æ, –Ω–æ fallback)
        try:
            os.unlink(tmp.name)
        except Exception:
            pass

        except Exception:
            pass